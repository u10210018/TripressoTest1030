# TripressoTest1030
Tripresso 面試前測驗 - 前端工程師

DEMO - https://u10210018.github.io/TripressoTest1030/

## 目錄
-  [目的](#目的)
-  [引入資源](#引入資源)
-  [規劃](#規劃)

### 目的
串接 Tripresso 網站的團體旅遊資料 API，並達成以下目標

1.團體旅遊資料能夠正確列在頁面上

2.團體旅遊資料能以「評分」及「價格」進行排序

3.能夠正常切換分頁

### 引入資源
css: reset.css, font-awesome

js: vue.js, vuex, axios

### 規劃

#### 1. 靜態版面
本次統一先以`reset.css`，統一和保持格式的乾淨。<br/>
主要呈現本次所需要的功能，最上方為篩選器，呈現可開選的條件，<br/>
點選及`hover`時會改變背景色。也會顯示目前篩選的條件。主要以`display: flex`進行排版。<br/>
中間主體為資料呈現，利用直式單欄，每一個長方塊皆包含旅遊團的資本資料。符號的星星和map-marker部分使用`font-awesome`，<br/>
標題、日期及價格的部分都可以點擊至旅遊團的各自頁面。<br/>
最下方為換頁的頁碼，我讓它保持五頁呈現，有上下一頁按鍵，也會顯示目前頁面以及`hover`時會改變背景色。

<br/><img src="https://i.imgur.com/78heSw3.png" width="400"><br/>

#### 2. js技術選擇及整體結構
本次實作使用`Vue`渲染畫面，並佐以`vuex`管理資料的變動，以及利用`axios`非同步取得`API`的資料。<br/>
因為目前所學中這是我認知中較能清楚管理資料及畫面的框架。<br/>

頁面拆分四部分，分別為上方篩選器`NavBar`，中間旅遊團結果`TourList`，下方頁碼`PageNav`，以及資料改變都會通過`store`。<br/>

上方篩選器: 本次實作「評分」(精選評分)及「價格」兩個條件，所以前兩個按鍵點選後可以進行資料篩選，而其他按鍵(天數及出發日期)則會讓目前選擇blur。<br/>
當選擇「評分」及「價格」時，要修改不同開選條件給`API`，重新抓取資料。<br/>

中間旅遊團結果: 較為單純，取得資料後渲染，並利用一些邏輯判斷和`Filters`，將價格的格式、星星數、日期格式修飾過後呈現。<br/>
不會主動去變動資料內容，純粹以`getter`接收資料。

下方頁碼: 點擊不同頁碼要重新送出條件給`API`，上一頁和下一頁則分別設定在第一頁及最後一頁時呈現無法點擊的樣式。
主要我先取得可能的總頁數，先行渲染頁數，將當下頁碼超過5頁的部分利用`v-if`不繪製。<br/>
理想中是利用不同`API`，或是相同`API`加上純粹以`SQL`指令得到的總筆數(如`count(*)`)。<br/>
但由於本次提供的只有資料內容的`API`，所以我的作法便低效一些。

下方圖片為我所想的資料及組件拆分架構。

<br/><img src="https://i.imgur.com/LBeu4H6.jpg" width="800"><br/>

#### 3. 小結及感想
本次也是練習vuex的使用，資料統一管理後，結構也會單純許多，較不會追蹤不到資料變化。<br/>
以及後來有嘗試拆分到各個js檔案，但本次由於只有一個頁面的部份，所以沒有嘗試利用Vue-cli等webpack的自動化工具。<br/>
純粹使用js檔及基礎scss編譯，也方便demo使用。<br/>


